{"ast":null,"code":"import React,{useState,useRef}from\"react\";import\"../css/players.css\";import\"../css/propListMenu.css\";import\"../css/player-prop-list.css\";import Vector2 from\"../Components/Vector2\";import{InMenuItem}from\"./InMenuItem\";import{useSpring,animated}from\"react-spring\";import Draggable from\"react-draggable\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const SoccerPlayer=_ref=>{let{onDragHandler,position}=_ref;const[showMenu,setShowMenu]=useState(false);const[selectedChildFeature,setSelectedChildFeature]=useState(\"\");const[props,setProps]=useState({coordinate:new Vector2(0,0),datas:[{name:\"Kaleci\",shortName:\"K\",Props:[\"Savunma\"]},{name:\"Libero Kaleci\",shortName:\"LK\",Props:[\"Savunma\",\"Destek\",\"Hücum\"]}]});const[selectedFeature,setSelectedFeature]=useState(\"\");const[colors,setColors]=useState({backgroundColor:\"#ffffff\",borderColor:\"#ffffff\",color:\"#7800e0\"});const anim=useSpring({opacity:showMenu?1:0,transform:showMenu?\"translateY(0)\":\"translateY(-10px)\",display:showMenu?\"block\":\"none\"});const handleSelectedChildFeature=name=>{setSelectedChildFeature(name);};const handleSelectedFeature=name=>{setSelectedFeature(name);};const handleMouseClick=()=>{};const dragginFunc=e=>{setProps(onDragHandler(e.clientX,e.clientY));if(props!==undefined){handleSelectedChildFeature(props.datas[0].name.split(\" \").map(word=>word.charAt(0).toUpperCase()));handleSelectedFeature(props.datas[0].shortName);}};function a(){if(props===undefined){return;}else{return props.datas.map((item,index)=>/*#__PURE__*/_jsx(InMenuItem,{shortName:item.shortName,name:item.name,childProps:item.Props,props:props,handleSelectedChildFeature:handleSelectedChildFeature,handleSelectedFeature:handleSelectedFeature},index));}}const playerRef=useRef(null);// Referansı tanımlıyoruz\nconst menuRef=useRef(null);// Menü için referans\nconst handleMouseEnter=()=>{setShowMenu(true);};const handleMouseLeave=e=>{// Menü dışına çıkıldığında yalnızca kapanacak\nconst playerRect=playerRef.current.getBoundingClientRect();const menuRect=menuRef.current.getBoundingClientRect();const isMouseInsideMenu=menuRect.left<=e.clientX&&menuRect.right>=e.clientX&&menuRect.top<=e.clientY&&menuRect.bottom>=e.clientY;const isMouseInsidePlayer=playerRect.left<=e.clientX&&playerRect.right>=e.clientX&&playerRect.top<=e.clientY&&playerRect.bottom>=e.clientY;if(!isMouseInsideMenu&&!isMouseInsidePlayer){setShowMenu(false);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Draggable,{onDrag:dragginFunc,defaultPosition:position,children:/*#__PURE__*/_jsxs(\"div\",{className:\"player-container\",onMouseEnter:()=>handleMouseEnter(),onMouseLeave:e=>handleMouseLeave(e),children:[/*#__PURE__*/_jsxs(\"div\",{ref:playerRef,className:\"soccerplayer-background\",style:colors,onMouseDown:()=>{handleMouseClick();if(!showMenu){setColors({backgroundColor:\"#ffffff\",borderColor:\"#ffffff\",color:\"#7800e0\"});}else{setColors({backgroundColor:\"#7800e0\",borderColor:\"#7133B2\",color:\"#ffffff\"});}},onMouseEnter:()=>{setColors({backgroundColor:\"#7800e0\",borderColor:\"#7133B2\",color:\"#ffffff\"});},onMouseLeave:e=>{setColors({backgroundColor:\"#ffffff\",borderColor:\"#ffffff\",color:\"#7800e0\"});},children:[/*#__PURE__*/_jsx(\"span\",{className:\"info\",children:selectedFeature}),/*#__PURE__*/_jsx(\"span\",{className:\"info-child\",children:selectedChildFeature})]}),/*#__PURE__*/// Burada showMenu kontrolü ekle\n_jsx(animated.div,{className:\"menu\",style:anim,onMouseEnter:()=>handleMouseEnter(),onMouseLeave:e=>handleMouseLeave(e),children:/*#__PURE__*/_jsx(\"ul\",{className:\"in-menu\",ref:menuRef,children:a()})})]})})});};","map":{"version":3,"names":["React","useState","useRef","Vector2","InMenuItem","useSpring","animated","Draggable","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SoccerPlayer","_ref","onDragHandler","position","showMenu","setShowMenu","selectedChildFeature","setSelectedChildFeature","props","setProps","coordinate","datas","name","shortName","Props","selectedFeature","setSelectedFeature","colors","setColors","backgroundColor","borderColor","color","anim","opacity","transform","display","handleSelectedChildFeature","handleSelectedFeature","handleMouseClick","dragginFunc","e","clientX","clientY","undefined","split","map","word","charAt","toUpperCase","a","item","index","childProps","playerRef","menuRef","handleMouseEnter","handleMouseLeave","playerRect","current","getBoundingClientRect","menuRect","isMouseInsideMenu","left","right","top","bottom","isMouseInsidePlayer","children","onDrag","defaultPosition","className","onMouseEnter","onMouseLeave","ref","style","onMouseDown","div"],"sources":["/Users/bekranker/website/src/Components/SoccerPlayer.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport \"../css/players.css\";\nimport \"../css/propListMenu.css\";\nimport \"../css/player-prop-list.css\";\nimport Vector2 from \"../Components/Vector2\";\nimport { InMenuItem } from \"./InMenuItem\";\nimport { useSpring, animated } from \"react-spring\";\nimport Draggable from \"react-draggable\";\n\nexport const SoccerPlayer = ({ onDragHandler, position }) => {\n  const [showMenu, setShowMenu] = useState(false);\n  const [selectedChildFeature, setSelectedChildFeature] = useState(\"\");\n  const [props, setProps] = useState({\n    coordinate: new Vector2(0, 0),\n    datas: [\n      { name: \"Kaleci\", shortName: \"K\", Props: [\"Savunma\"] },\n      {\n        name: \"Libero Kaleci\",\n        shortName: \"LK\",\n        Props: [\"Savunma\", \"Destek\", \"Hücum\"],\n      },\n    ],\n  });\n  const [selectedFeature, setSelectedFeature] = useState(\"\");\n  const [colors, setColors] = useState({\n    backgroundColor: \"#ffffff\",\n    borderColor: \"#ffffff\",\n    color: \"#7800e0\",\n  });\n  const anim = useSpring({\n    opacity: showMenu ? 1 : 0,\n    transform: showMenu ? \"translateY(0)\" : \"translateY(-10px)\",\n    display: showMenu ? \"block\" : \"none\",\n  });\n  const handleSelectedChildFeature = (name) => {\n    setSelectedChildFeature(name);\n  };\n\n  const handleSelectedFeature = (name) => {\n    setSelectedFeature(name);\n  };\n  const handleMouseClick = () => {};\n\n  const dragginFunc = (e) => {\n    setProps(onDragHandler(e.clientX, e.clientY));\n    if (props !== undefined) {\n      handleSelectedChildFeature(\n        props.datas[0].name\n          .split(\" \")\n          .map((word) => word.charAt(0).toUpperCase())\n      );\n      handleSelectedFeature(props.datas[0].shortName);\n    }\n  };\n  function a() {\n    if (props === undefined) {\n      return;\n    } else {\n      return props.datas.map((item, index) => (\n        <InMenuItem\n          key={index}\n          shortName={item.shortName}\n          name={item.name}\n          childProps={item.Props}\n          props={props}\n          handleSelectedChildFeature={handleSelectedChildFeature}\n          handleSelectedFeature={handleSelectedFeature}\n        />\n      ));\n    }\n  }\n  const playerRef = useRef(null); // Referansı tanımlıyoruz\n  const menuRef = useRef(null); // Menü için referans\n  const handleMouseEnter = () => {\n    setShowMenu(true);\n  };\n  const handleMouseLeave = (e) => {\n    // Menü dışına çıkıldığında yalnızca kapanacak\n    const playerRect = playerRef.current.getBoundingClientRect();\n    const menuRect = menuRef.current.getBoundingClientRect();\n    const isMouseInsideMenu =\n      menuRect.left <= e.clientX &&\n      menuRect.right >= e.clientX &&\n      menuRect.top <= e.clientY &&\n      menuRect.bottom >= e.clientY;\n    const isMouseInsidePlayer =\n      playerRect.left <= e.clientX &&\n      playerRect.right >= e.clientX &&\n      playerRect.top <= e.clientY &&\n      playerRect.bottom >= e.clientY;\n\n    if (!isMouseInsideMenu && !isMouseInsidePlayer) {\n      setShowMenu(false);\n    }\n  };\n  return (\n    <>\n      <Draggable onDrag={dragginFunc} defaultPosition={position}>\n        <div\n          className=\"player-container\"\n          onMouseEnter={() => handleMouseEnter()}\n          onMouseLeave={(e) => handleMouseLeave(e)}\n        >\n          <div\n            ref={playerRef}\n            className=\"soccerplayer-background\"\n            style={colors}\n            onMouseDown={() => {\n              handleMouseClick();\n              if (!showMenu) {\n                setColors({\n                  backgroundColor: \"#ffffff\",\n                  borderColor: \"#ffffff\",\n                  color: \"#7800e0\",\n                });\n              } else {\n                setColors({\n                  backgroundColor: \"#7800e0\",\n                  borderColor: \"#7133B2\",\n                  color: \"#ffffff\",\n                });\n              }\n            }}\n            onMouseEnter={() => {\n              setColors({\n                backgroundColor: \"#7800e0\",\n                borderColor: \"#7133B2\",\n                color: \"#ffffff\",\n              });\n            }}\n            onMouseLeave={(e) => {\n              setColors({\n                backgroundColor: \"#ffffff\",\n                borderColor: \"#ffffff\",\n                color: \"#7800e0\",\n              });\n            }}\n          >\n            <span className=\"info\">{selectedFeature}</span>\n            <span className=\"info-child\">{selectedChildFeature}</span>\n          </div>\n          {\n            // Burada showMenu kontrolü ekle\n            <animated.div\n              className=\"menu\"\n              style={anim}\n              onMouseEnter={() => handleMouseEnter()}\n              onMouseLeave={(e) => handleMouseLeave(e)}\n            >\n              <ul className=\"in-menu\" ref={menuRef}>\n                {a()}\n              </ul>\n            </animated.div>\n          }\n        </div>\n      </Draggable>\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}